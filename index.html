<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Collision Calculator</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #c0ddf6;
      color: #1f3c61;
    }

    .container {
      padding: 20px;
      max-width: 1000px;
      margin: auto;
    }

    .header {
      display: flex;
      align-items: center;
      background-color: #4a74a5;
      border-radius: 12px;
      padding: 12px 20px;
      color: white;
      margin-bottom: 10px;
    }

    .header img {
      width: 55px;
      height: auto;
    }

    .header-title {
      font-size: 22px;
      font-weight: bold;
      margin-left: 12px;
    }

    .description {
      font-size: 14px;
      background-color: #c0ddf6;
      padding: 10px 0 20px;
    }

    .description b {
      font-weight: bold;
    }

    .select-row {
      display: flex;
      align-items: center;
      gap: 20px;
      background-color: #f3f8ff;
      padding: 15px 20px;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .select-row label {
      font-size: 18px;
      font-weight: bold;
      color: #1f3c61;
    }

    select {
      padding: 8px 12px;
      font-size: 14px;
      border-radius: 6px;
      background-color: #1f3c61;
      color: white;
      border: none;
    }

    .formula-box {
      margin-left: auto;
      background-color: white;
      padding: 8px 16px;
      border-radius: 10px;
      font-family: monospace;
      font-size: 16px;
      font-weight: bold;
    }

    .object-container {
      display: flex;
      justify-content: space-between;
      gap: 25px;
      margin-bottom: 20px;
    }

    .object-box {
      flex: 1;
      background-color: #e1f0ff;
      padding: 20px;
      border-radius: 12px;
    }

    .object-title {
      font-weight: bold;
      font-size: 16px;
      margin-bottom: 18px;
    }

    .input-group {
      margin-bottom: 18px;
    }

    .input-group label {
      display: inline-block;
      font-weight: bold;
      background-color: #bfdcff;
      color: #1f3c61;
      padding: 5px 12px;
      border-radius: 6px;
      font-size: 13px;
      margin-bottom: 6px;
    }

    .input-flex {
      display: flex;
      gap: 8px;
    }

    .input-group input {
      flex: 2;
      padding: 9px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }

    .input-group select.unit-select {
      flex: 1;
      padding: 9px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }

    .button-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    .button-row button {
      padding: 10px 20px;
      font-size: 14px;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      background-color: #4a74a5;
      color: white;
      cursor: pointer;
    }

    .button-row button:hover {
      background-color: #365b84;
    }

    .energy-box {
      background-color: #e1f0ff;
      padding: 20px;
      border-radius: 12px;
      display: flex;
      gap: 20px;
    }

    .energy-box .input-group {
      flex: 1;
    }

    .energy-box .input-group label {
      display: block;
      font-size: 14px;
      font-weight: bold;
      color: #1f3c61;
      margin-bottom: 6px;
    }

    .result-value {
      background-color: white;
      padding: 10px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: bold;
      color: #1f3c61;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <img src=".png" alt="icon">
      <div class="header-title">COLLISION CALCULATOR</div>
    </div>

    <div class="description">
      <strong>What is a COLLISION?</strong><br />
      A <b>collision</b> is an event where two or more objects exert forces on each other over a short time, while the total momentum of the system remains conserved according to the <b>law of conservation of momentum</b>.
    </div>

    <div class="select-row">
      <label for="collision-type">COLLISION TYPE</label>
      <select id="collision-type">
        <option>Unknown</option>
        <option>Perfectly Elastic</option>
        <option>Partially Elastic</option>
        <option>Perfectly Inelastic</option>
      </select>
      <div class="formula-box">m₁v₁ + m₂v₂ = m₁v′₁ + m₂v′₂</div>
    </div>

    <div class="object-container">
      <!-- Object 1 -->
      <div class="object-box">
        <div class="object-title">OBJECT 1</div>
        <div class="input-group">
          <label for="m1">mass (m₁)</label>
          <div class="input-flex">
            <input type="number" id="m1" placeholder="Enter value">
            <select class="unit-select">
              <option>kilograms (kg)</option>
              <option>pound (lb)</option>
              <option>grams (g)</option>
              <option>milligrams (mg)</option>
              <option>ounces (oz)</option>
              <option>metric tons</option>
              <option>atomic mass unit (amu)</option>
            </select>
          </div>
        </div>
        <div class="input-group">
          <label for="v1">initial velocity (v₁)</label>
          <div class="input-flex">
            <input type="number" id="v1" placeholder="Enter value">
            <select class="unit-select">
              <option>m/s</option>
              <option>cm/s</option>
              <option>km/h</option>
              <option>ft/s</option>
              <option>in/s</option>
              <option>mph</option>
            </select>
          </div>
        </div>
        <div class="input-group">
          <label for="v1f">final velocity (v′₁)</label>
          <div class="input-flex">
            <input type="number" id="v1f" placeholder="Enter value">
            <select class="unit-select">
              <option>m/s</option>
              <option>cm/s</option>
              <option>km/h</option>
              <option>ft/s</option>
              <option>in/s</option>
              <option>mph</option>
            </select>
          </div>
        </div>
      </div>

      <div class="object-box">
        <div class="object-title">OBJECT 2</div>
        <div class="input-group">
          <label for="m2">mass (m₂)</label>
          <div class="input-flex">
            <input type="number" id="m2" placeholder="Enter value">
            <select class="unit-select">
              <option>kilograms (kg)</option>
              <option>pound (lb)</option>
              <option>grams (g)</option>
              <option>milligrams (mg)</option>
              <option>ounces (oz)</option>
              <option>metric tons</option>
              <option>atomic mass unit (amu)</option>
            </select>
          </div>
        </div>
        <div class="input-group">
          <label for="v2">initial velocity (v₂)</label>
          <div class="input-flex">
            <input type="number" id="v2" placeholder="Enter value">
            <select class="unit-select">
              <option>m/s</option>
              <option>cm/s</option>
              <option>km/h</option>
              <option>ft/s</option>
              <option>in/s</option>
              <option>mph</option>
            </select>
          </div>
        </div>
        <div class="input-group">
          <label for="v2f">final velocity (v′₂)</label>
          <div class="input-flex">
            <input type="number" id="v2f" placeholder="Enter value">
            <select class="unit-select">
              <option>m/s</option>
              <option>cm/s</option>
              <option>km/h</option>
              <option>ft/s</option>
              <option>in/s</option>
              <option>mph</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="button-row">
      <button class="calculate-btn">Calculate</button>
      <button class="reset-btn">Reset</button>
    </div>

    <div class="energy-box">
      <div style="display: flex; flex-direction: column; gap: 10px; width: 100%;">
        <label style="display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: bold;">
          <input type="checkbox" id="manual-ke-toggle">
          Enable manual KE input
        </label>
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
          <div class="input-group">
            <label for="ke-loss">Loss of KE (%)</label>
            <input type="number" id="ke-loss" class="result-value" placeholder="e.g. 12.5">
          </div>
          <div class="input-group">
            <label for="ke-before">Total KE before collision (J)</label>
            <input type="number" id="ke-before" class="result-value" placeholder="e.g. 350">
          </div>
          <div class="input-group">
            <label for="ke-after">Total KE after collision (J)</label>
            <input type="number" id="ke-after" class="result-value" placeholder="e.g. 290">
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const collisionTypeSelect = document.getElementById('collision-type');
    const formulaBox = document.querySelector('.formula-box');

    const KE_BEFORE = document.getElementById('ke-before');
    const KE_AFTER = document.getElementById('ke-after');
    const KE_LOSS = document.getElementById('ke-loss');

    const calculateBtn = document.querySelector('.calculate-btn');
    const resetBtn = document.querySelector('.reset-btn');

    const massUnits = {
      'kilograms (kg)': 1,
      'grams (g)': 0.001,
      'milligrams (mg)': 0.000001,
      'pound (lb)': 0.453592,
      'ounces (oz)': 0.0283495,
      'metric tons': 1000,
      'atomic mass unit (amu)': 1.66053906660e-27
    };

    const velocityUnits = {
      'm/s': 1,
      'km/h': 1 / 3.6,
      'mph': 0.44704,
      'ft/s': 0.3048,
      'cm/s': 0.01,
      'in/s': 0.0254
    };

    function resetInputs() {
      document.querySelectorAll('input[type="number"]').forEach(input => input.value = '');
      document.querySelectorAll('select').forEach(select => select.selectedIndex = 0);
      KE_BEFORE.value = '';
      KE_AFTER.value = '';
      KE_LOSS.value = '';
    }

    function calculateCollision() {
      const m1 = parseFloat(document.getElementById('m1').value);
      const m2 = parseFloat(document.getElementById('m2').value);
      const v1 = parseFloat(document.getElementById('v1').value);
      const v2 = parseFloat(document.getElementById('v2').value);
      const v1f = parseFloat(document.getElementById('v1f').value);
      const v2f = parseFloat(document.getElementById('v2f').value);

      const massUnit1 = document.querySelector('#m1 + .unit-select').value;
      const massUnit2 = document.querySelector('#m2 + .unit-select').value;
      const velocityUnit1 = document.querySelector('#v1 + .unit-select').value;
      const velocityUnit2 = document.querySelector('#v2 + .unit-select').value;

      // Convert inputs to standard units
      const mass1 = m1 * massUnits[massUnit1];
      const mass2 = m2 * massUnits[massUnit2];
      const velocity1 = v1 * velocityUnits[velocityUnit1];
      const velocity2 = v2 * velocityUnits[velocityUnit2];

      // Calculate KE
      const keBefore = 0.5 * mass1 * Math.pow(velocity1, 2) + 0.5 * mass2 * Math.pow(velocity2, 2);
      const keAfter = 0.5 * mass1 * Math.pow(v1f, 2) + 0.5 * mass2 * Math.pow(v2f, 2);

      KE_BEFORE.value = keBefore.toFixed(2);
      KE_AFTER.value = keAfter.toFixed(2);
      KE_LOSS.value = ((keBefore - keAfter) / keBefore * 100).toFixed(2);

      // Automatically fill missing fields
      if (isNaN(m1) && !isNaN(m2) && !isNaN(v1) && !isNaN(v2)) {
        const calculatedM1 = (0.5 * m2 * Math.pow(v2, 2) - keBefore) / Math.pow(v1, 2);
        document.getElementById('m1').value = calculatedM1.toFixed(2);
      }
      if (isNaN(v1) && !isNaN(m1) && !isNaN(m2) && !isNaN(v2)) {
        const calculatedV1 = Math.sqrt((2 * (keBefore - 0.5 * m2 * Math.pow(v2, 2))) / m1);
        document.getElementById('v1').value = calculatedV1.toFixed(2);
      }
      if (isNaN(v2) && !isNaN(m2) && !isNaN(m1) && !isNaN(v1)) {
        const calculatedV2 = Math.sqrt((2 * (keBefore - 0.5 * m1 * Math.pow(v1, 2))) / m2);
        document.getElementById('v2').value = calculatedV2.toFixed(2);
      }
    }

    calculateBtn.addEventListener('click', calculateCollision);
    resetBtn.addEventListener('click', resetInputs);
  </script>
</body>
</html>
